PROYECTO 28: SISTEMA DE CONTROL DE ACCESO
BIOMÉTRICO
Descripción
Construir un sistema empresarial de control de acceso que use reconocimiento facial para
autenticar empleados, registre entradas/salidas, genere reportes de asistencia y envíe
alertas de intrusos.
Arquitectura AWS
Cámara IP → Lambda (Webhook) → S3 (Imagen)
↓
Rekognition
(Face Recognition)
↓
Lambda (Match Face)
↓
DynamoDB (Empleados)
↓
┌───────────────────────┼──────────────┐
↓ ↓ ↓
Lambda (Grant) Lambda (Deny) Lambda (Unknown)
↓ ↓ ↓
IoT Core SNS Rekognition
(Open Door) (Alert) (Face Search)
↓ ↓ ↓
Smart Lock Security DynamoDB
(Intruders)
↓
Lambda
(Auto-enroll?)
↓
EventBridge
↓
Lambda
(Daily Report)
↓
Timestream
(Time & Attendance)
↓
QuickSight
(HR Reports)
Servicios AWS a Utilizar
● Amazon Rekognition: Face detection y recognition
● Amazon S3: Almacenamiento de imágenes
● AWS Lambda: Lógica de control de acceso
● Amazon DynamoDB: Empleados, eventos de acceso
● AWS IoT Core: Control de cerraduras inteligentes
● Amazon SNS: Alertas de seguridad
● Amazon Timestream: Time-series de entradas/salidas
● Amazon QuickSight: Reportes de asistencia
● Amazon EventBridge: Scheduler para reportes
● Amazon SES: Emails de reportes
Requerimientos Técnicos
1. Rekognition Face Collection:
○ Crear collection: "employees"
○ Enrollment:
■ Lambda para agregar empleado
■ IndexFaces API: 5 fotos por empleado (diferentes ángulos)
■ FaceId asociado a employee_id en DynamoDB
○ Face attributes: edad estimada, género, emociones (opcional)
2. Simulador de cámara:
○ Script Python que simula eventos cada 5 segundos
○ Genera imagen sintética (cara de dataset o webcam)
○ POST a API Gateway con imagen base64
○ Tipos de eventos:
■ Empleado conocido (80%)
■ Empleado desconocido/visitante (15%)
■ Intento de acceso no autorizado (5%)
3. Access control logic:
○ Lambda recibe imagen
○ SearchFacesByImage en collection
○ Si match encontrado (similarity > 95%):
■ Lookup employee en DynamoDB
■ Check si tiene acceso a ese punto de entrada
■ Check si está dentro de horario permitido
■ Grant o deny access
○ Si no match:
■ Alert security (SNS)
■ Store imagen de intruso en S3
■ Optional: create temporary visitor pass
4. Smart lock integration (IoT Core):
○ Simulador de cerradura inteligente (MQTT client)
○ Lambda publica mensaje: topic: locks/{door_id}/unlock
○ Cerradura ejecuta unlock por 3 segundos
○ Publica confirmación: topic: locks/{door_id}/status
5. Time & attendance:
○ Registrar evento en DynamoDB:
■ Timestamp, employee_id, door_id, direction (in/out), image_url
○ Timestream para series temporales
○ Calcular horas trabajadas:
■ Primer in del día = entrada
■ Último out del día = salida
■ Total horas = salida - entrada - break time
○ Excepciones:
■ Missing clockout (avisar a empleado)
■ Late arrival (> 15 min después de shift start)
■ Early departure (salida antes de fin shift)
6. Reportes automatizados:
○ EventBridge trigger diario (6 AM)
○ Lambda genera reporte:
■ Empleados presentes ayer
■ Ausentismo rate
■ Horas extras
■ Late arrivals / early departures
○ QuickSight dashboard:
■ Asistencia por departamento
■ Puntualidad trends
■ Horas trabajadas vs contractuales
■ Top usuarios por accesos
7. Visitor management:
○ Pre-register visitantes (nombre, empresa, host, valid_until)
○ Enroll cara al registrarse en recepción
○ Auto-revoke acceso al expirar valid_until
○ Host recibe notificación cuando visitante llega
8. Security features:
○ Anti-spoofing: liveness detection (Rekognition)
○ Multi-factor: face + badge/PIN
○ Tailgating detection (múltiples personas en frame)
○ Blacklist (ex-empleados, personas no gratas)
Desafíos Específicos
● Implementar mask detection (COVID-19) - Rekognition Custom Labels
● Multi-camera tracking (seguir persona entre cámaras)
None
● Zona restricciones (ciertos empleados solo ciertas áreas)
● Emergency override (abrir todas puertas en emergencia)
● Integration con HR system (auto-enroll nuevos empleados)
URLs de Referencia
Arquitectura oficial AWS:
● https://aws.amazon.com/solutions/implementations/smart-product-solution/
● https://github.com/aws-samples/amazon-rekognition-video-analyzer
● https://docs.aws.amazon.com/rekognition/latest/dg/collections.html
Tutoriales complementarios:
● https://aws.amazon.com/blogs/machine-learning/build-face-recognition-with-amazonrekognition/
● https://catalog.workshops.aws/rekognition/en-US
Estimación de Costos (Learner Lab)
● Rekognition: $10.00 (1000 búsquedas de caras)
● S3: $2.00
● Lambda: $2.00
● DynamoDB: $2.00
● IoT Core: $2.00
● Timestream: $3.00
● SNS/SES: $0.50
● QuickSight: $9.00 Total estimado: ~$30.50/mes